# ============================
# Server
# ============================
# Railway injects PORT
server.port=${PORT:8080}


# ============================
# Datasource (Railway / Local)
# ============================
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}

spring.datasource.driver-class-name=org.postgresql.Driver


# ============================
# JPA / Hibernate
# ============================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true

spring.jpa.open-in-view=false


# ============================
# JWT / Security
# ============================
app.jwt.secret=${JWT_SECRET}
app.jwt.ttl-minutes=1440


# ============================
# Mail (Gmail SMTP)
# ============================
spring.mail.host=smtp.gmail.com
spring.mail.port=587

spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}

spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000


# ============================
# Card Images (Cloudflare R2)
# ============================
# Base public URL (no /cards at end)
# Example: https://pub-xxxx.r2.dev
app.images.base-url=${IMAGES_BASE_URL:https://pub-xxxx.r2.dev}


# ============================
# Image Downloader (Local Use)
# ============================
# Only enable when manually downloading
app.images.enabled=false

# Local folder for temporary downloads (NOT committed)
app.images.local-dir=./local-images/ygo/cards

# Safe throttle
app.images.per-second=4

# 0 = unlimited
app.images.limit=0


# ============================
# Card Import
# ============================
app.import.cards.enabled=${IMPORT_CARDS_ENABLED:false}
app.import.cards.skip-if-data=true


# ============================
# Logging
# ============================
logging.level.root=INFO
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=INFO
logging.level.org.hibernate.type.descriptor.sql=TRACE


# ============================
# Actuator (optional, safe)
# ============================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=never
